<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Finding My Way Home</h1>
        <h4>Far Caspian</h4>
        <a href="https://www.youtube.com/watch?v=TxNjyTtCKAo" target="_blank" title="Original music video">Original video</a>
        <div class="album-cover">
            <img class="img-center" id="album-cover" src="/Images/Home.jpg" alt="Album cover for Finding My Way Home">
        </div>
        <div class="lyrics">
            <pre id="lyrics">
Loading lyrics...
            </pre>
        </div>
        <div class="current-song">Now Playing: <span id="song-title">123.mp3</span></div>
        <div class="audio-player">
            <audio id="audio-player" controls>
                <source id="audio-source" src="/Music/123.mp3" type="audio/mpeg">
            </audio>
        </div>
        <ul class="song-list">
            <li onclick="playSong('Finding My Way Home.mp3', 'finding_my_way_home.txt', 'Finding My Way Home.jpg')">Finding My Way Home</li>
            <li onclick="playSong('ANOTR, Abel Balder - Relax My Eyes.mp3', 'relax_my_eyes.txt', 'relax my eyes.jpg')">ANOTR, Abel Balder - Relax My Eyes</li>
            <li onclick="playSong('Wolfgang Gartner - Push and Rise (PrototypeRaptor Bootleg Remix).mp3', 'wolfgang_push_and_rise.txt', 'wolfgang_cover.jpg')">Wolfgang Gartner - Push and Rise (PrototypeRaptor Bootleg Remix)</li>
            <li onclick="playSong('Yeat - Money So Big (InstrumentalTikTok Remix).mp3', 'yeat_money_so_big.txt', 'yeat_cover.jpg')">Yeat - Money So Big (Beat)</li>
            <li onclick="playSong('Major Lazer & DJ Snake Ft. MØ - Lean On.mp3', '1234.txt', '1234_cover.jpg')">Major Lazer & DJ Snake Ft. MØ - Lean On</li>
        </ul>
        <a href="https://open.spotify.com/track/5Rdh332wRhjgmrqhwFJXAQ?si=f43b6afe65fa4254" target="_blank" title="Spotify link">Listen on Spotify</a>
    </div>
    <script>
        async function playSong(audioFile, lyricsFile, imageFile) {
            var audioPlayer = document.getElementById('audio-player');
            var audioSource = document.getElementById('audio-source');
            var songTitle = document.getElementById('song-title');
            var lyrics = document.getElementById('lyrics');
            var albumCover = document.getElementById('album-cover');
            
            audioSource.src = `/Music/${audioFile}`;
            songTitle.textContent = audioFile;
            audioPlayer.load();
            audioPlayer.play();

            // Fetch lyrics
            try {
                let response = await fetch(`/Lyrics/${lyricsFile}`);
                if (response.ok) {
                    let text = await response.text();
                    lyrics.textContent = text;
                } else {
                    lyrics.textContent = "Lyrics not found.";
                }
            } catch (error) {
                lyrics.textContent = "Error loading lyrics.";
            }

            // Update album cover
            albumCover.src = `/Images/${imageFile}`;
        }

        // Initial load
        playSong('123.mp3', 'finding_my_way_home.txt', 'Home.jpg');
    </script>
</body>
</html>
